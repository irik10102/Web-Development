<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
    
    <div class="container mt-5" >
        <table class="container"  id="tbl"  style="border:1px solid black;">
            <tr>
                <th>Item Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total Price</th>
            </tr>
        </table>
        <span id="grandTot"><strong>Grand Total   :<p></p></strong></span><br>
        <button class="btn btn-outline-success" onclick="add()">Add+</button> 
        
    </div>
    <script>
        var i=0;
        var grandTot = document.querySelector("#grandTot > p");
        var tbl = document.querySelector("#tbl");
        function grandTotal(){
            /*let gTot = 0;
            for(let j=0;j<i;j++){
                let val = (document.getElementById(`d${j}4`).innerText);
                //gTot = gTot + val;
                console.log(val+"\n");
            }
            grandTot.innerText=gTot;*/
            alert("grand Total function called!\n");

        }
        function add(){
            let newRow = document.createElement("tr");
            newRow.id =`row-${i}`;
            newRow.innerHTML =`
                            <td ><input type="text" id="d${i}1"></td>
                            <td ><input type="number" onblur="calcTot(${i})" id="d${i}2"></td>     
                            <td ><input type="number" onblur="calcTot(${i})" id="d${i}3"></td>
                            <td><p id=d${i}4 onchange="grandTotal()"></p></td>
                             `; //i is row number here.
            
            tbl.appendChild(newRow);
            i = i + 1;
            //grandTotal();
        }

        function calcTot(i){
            let price = parseFloat(document.getElementById(`d${i}2`).value);
            let qty   = parseFloat(document.getElementById(`d${i}3`).value);

            document.getElementById(`d${i}4`).innerText = parseFloat(price*qty).toFixed(2);

        }
        
    </script>

</body>
</html>
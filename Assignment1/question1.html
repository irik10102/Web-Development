<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question 1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
    <form class="container" onsubmit="showReport()">
        <table class="mt-3 md-3">
            <tr>
                <td>Department Name:</td>
                <td><input type="text" id="dept"></td>
            </tr>
            <tr>
                <td>Location:</td>
                <td><input type="text" id="loc"></td>
            </tr>
            
        </table>
        <button class="btn btn-primary mt-3 me-3" type="submit">Submit</button>
        <button class="btn btn-primary mt-3 me-3" type="button" id="react">Find!</button>
    </form>
    <div class="container">
        <table id="result" style="border-collapse: separate; border-spacing:10;">
            <th>Student Id</th>
            <th>Student Name</th>
            <th>Total Marks</th>
        </table>
    </div>
   
    <script>
        var rows='';
        var stu=[{stid:1,stnm:'debasish',math:80,chem:56,bio:67,phy:90,dept:'civil',loc:'kalna',skills:['c',   'java']},
                {stid:2,stnm:'suresh',math:77,chem:42,bio:87,phy:71,dept:'civil',loc:'kalna',skills:['c',   'java','react']},
                {stid:3,stnm:'sahil',math:67,chem:53,bio:77,phy:40,dept:'civil',loc:'kalna',skills:['c','javascript','java','react']}]

        var result = ` <th>Student Id</th>
                        <th>Student Name</th>
                        <th>Total Marks</th>`;

        var reactRows=` <th>Student Id</th>
                        <th>Student Name</th>
                        <th>Total Marks</th>`;

        //to find candidates that match location and department according to the given inputs
        function showReport(){
            event.preventDefault();
            var dept = document.getElementById('dept').value;
            var loc = document.getElementById('loc').value;

            stu.forEach((val,ind)=>{
                val['totalMarks'] = val['math'] + val['chem'] + val['bio'] + val['phy'];
                if((val['dept'] == dept)&&(val['loc'] == loc)){
                    rows = rows + `<tr>
                                <td>${val['stid']}</td>
                                <td>${val['stnm']}</td>
                                <td>${val['totalMarks']}</td>
                            </tr>`;

                    document.getElementById('result').innerHTML = result + rows;
                }
            })
           
        }

        //to find candidates skilled in react
        var obj={};
        document.getElementById('react').addEventListener('click', ()=>{
             stu.forEach((val,ind)=>{
                val['totalMarks'] = val['math'] + val['chem'] + val['bio'] + val['phy'];
                if(val['skills'].includes('react')){
                    reactRows = reactRows + `<tr>
                                                <td>${val['stid']}</td>
                                                <td>${val['stnm']}</td>
                                                <td>${val['totalMarks']}</td>
                                            </tr>`;
                }

            })
            document.getElementById('result').innerHTML = reactRows;
            
                
        })

        

    </script>
</body>
</html>